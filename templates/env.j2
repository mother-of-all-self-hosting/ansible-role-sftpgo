{#
SPDX-FileCopyrightText: 2025 Suguru Hirahara

SPDX-License-Identifier: AGPL-3.0-or-later
#}

{#
  See: https://docs.sftpgo.com/latest/env-vars/ and https://docs.sftpgo.com/latest/config-file/
  Note that the settings below are not exhaustive. You can add other variables to sftpgo_environment_variables_additional_variables.
#}

{% if sftpgo_environment_variables_data_provider_driver %}
SFTPGO_DATA_PROVIDER__DRIVER={{ sftpgo_environment_variables_data_provider_driver }}
{% endif %}

{% if sftpgo_environment_variables_data_provider_driver == 'mysql' %}
SFTPGO_DATA_PROVIDER__NAME={{ sftpgo_database_mysql_name }}
SFTPGO_DATA_PROVIDER__HOST={{ sftpgo_database_mysql_hostname }}
SFTPGO_DATA_PROVIDER__PORT={{ sftpgo_database_mysql_port }}
SFTPGO_DATA_PROVIDER__USERNAME={{ sftpgo_database_mysql_username }}
SFTPGO_DATA_PROVIDER__PASSWORD={{ sftpgo_database_mysql_password }}
{% endif %}

{% if sftpgo_environment_variables_data_provider_driver == 'postgresql' %}
SFTPGO_DATA_PROVIDER__NAME={{ sftpgo_database_postgresql_name }}
SFTPGO_DATA_PROVIDER__HOST={{ sftpgo_database_postgresql_hostname }}
SFTPGO_DATA_PROVIDER__PORT={{ sftpgo_database_postgresql_port }}
SFTPGO_DATA_PROVIDER__USERNAME={{ sftpgo_database_postgresql_username }}
SFTPGO_DATA_PROVIDER__PASSWORD={{ sftpgo_database_postgresql_password }}
{% endif %}

SFTPGO_DATA_PROVIDER__CREATE_DEFAULT_ADMIN={{ sftpgo_environment_variables_data_provider_create_default_admin | to_json }}
SFTPGO_DEFAULT_ADMIN_USERNAME={{ sftpgo_environment_variables_sftpgo_default_admin_username }}
SFTPGO_DEFAULT_ADMIN_PASSWORD={{ sftpgo_environment_variables_sftpgo_default_admin_password }}

{#
  See https://github.com/drakkan/sftpgo/issues/474#issuecomment-877589746 for the reason why "__0__" is necessary.
#}
SFTPGO_HTTPD__BINDINGS__0__ENABLE_WEB_ADMIN={{ sftpgo_environment_variables_httpd_bindings_0_enable_web_admin | to_json }}
SFTPGO_HTTPD__BINDINGS__0__ENABLE_WEB_CLIENT={{ sftpgo_environment_variables_httpd_bindings_0_enable_web_client | to_json }}
SFTPGO_HTTPD__BINDINGS__0__ENABLE_REST_API={{ sftpgo_environment_variables_httpd_bindings_0_enable_rest_api | to_json }}
SFTPGO_HTTPD__BINDINGS__0__ENABLED_LOGIN_METHODS={{ sftpgo_environment_variables_httpd_bindings_0_enabled_login_methods }}

SFTPGO_HTTPD__BINDINGS__0__BRANDING__NAME={{ sftpgo_environment_variables_httpd_bindings_0_branding_name }}
SFTPGO_HTTPD__BINDINGS__0__BRANDING__SHORT_NAME={{ sftpgo_environment_variables_httpd_bindings_0_branding__short_name }}
SFTPGO_HTTPD__BINDINGS__0__BRANDING__FAVICON_PATH={{ sftpgo_environment_variables_httpd_bindings_0_branding_favicon_path }}
SFTPGO_HTTPD__BINDINGS__0__BRANDING__LOGO_PATH={{ sftpgo_environment_variables_httpd_bindings_0_branding_logo_path }}
SFTPGO_HTTPD__BINDINGS__0__BRANDING__DISCLAIMER_NAME={{ sftpgo_environment_variables_httpd_bindings_0_branding_disclaimer_name }}
SFTPGO_HTTPD__BINDINGS__0__BRANDING__DISCLAIMER_PATH={{ sftpgo_environment_variables_httpd_bindings_0_branding_disclaimer_path }}
SFTPGO_HTTPD__BINDINGS__0__BRANDING__DEFAULT_CSS={{ sftpgo_environment_variables_httpd_bindings_0_branding_default_css }}
SFTPGO_HTTPD__BINDINGS__0__BRANDING__EXTRA_CSS={{ sftpgo_environment_variables_httpd_bindings_0_branding_extra_css }}

{% if sftpgo_environment_variables_smtp_enabled %}
SFTPGO_SMTP__HOST={{ sftpgo_environment_variables_smtp_host }}
SFTPGO_SMTP__PORT={{ sftpgo_environment_variables_smtp_port }}
SFTPGO_SMTP__FROM={{ sftpgo_environment_variables_smtp_from }}
SFTPGO_SMTP__USER={{ sftpgo_environment_variables_smtp_user }}
SFTPGO_SMTP__PASSWORD={{ sftpgo_environment_variables_smtp_password }}
SFTPGO_SMTP__AUTH_TYPE={{ sftpgo_environment_variables_smtp_auth_type }}
SFTPGO_SMTP__ENCRYPTION={{ sftpgo_environment_variables_smtp_encryption }}
SFTPGO_SMTP__DOMAIN={{ sftpgo_environment_variables_smtp_domain }}
SFTPGO_SMTP__TEMPLATES_PATH={{ sftpgo_environment_variables_smtp_templates_path }}
SFTPGO_SMTP__DEBUG={{ sftpgo_environment_variables_smtp_debug }}
{% endif %}

{{ sftpgo_environment_variables_additional_variables }}
